<html>
<head>
<title>View User Usage Report</title>
</head>
<body>
	<div id="event" th:fragment="fragment">
		<h3 class="pageHeader">
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<tbody>
					<tr>
						<td>
							<div class="pageHeaderDiv">
								<img src="img/window_information.png" alt="Dashboard" />&nbsp;&nbsp;Accumulated
								Using Time of Users &nbsp;
							</div>
						</td>
						<td id="loadingAnim"></td>
					</tr>
				</tbody>
			</table>
		</h3>
		<div id="accumulatedUsing" class="poolContainer">
			<label for="usageDays">Accumulated Using Time. Show report
				for: </label> <select name="usageDays" id="usageDays">
				<option value="day">Last 2 day</option>
				<option value="week" selected="selected">Last 7 days</option>
				<option value="month">Last 1 month</option>
			</select>
			<div>
				<svg>
				</svg>
			</div>
			<div id="loading1" class="loadingdiv">Loading</div>
		</div>
					
		<h3 class="pageHeader">
				<table border="0" cellpadding="0" cellspacing="0" width="100%">
					<tbody>
						<tr>
							<td>
								<div class="pageHeaderDiv">
									<img src="img/window_information.png" alt="Dashboard" />&nbsp;&nbsp;
									Connections of Users &nbsp;<span class="updateDate"> </span> 
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</h3>
			
		<div class="poolContainer" ng-controller="usageCtrl"
			style="width: 100%; height: 90%; overflow: scroll; overflow-x: hidden;">

			<label>Account Name: </label> <input type="text"
				id="user" name="user" value="" /> 
				<button ng-click="reloadData()" class="btn btn-default">Search</button>
			&nbsp;&nbsp; <label>Show report for: </label>
			<select ng-model="days">
				<option value="2">Last 2 days</option>
				<option value="7" selected="selected">Last 7 days</option>
				<option value="30">Last 1 month</option>
			</select>
			  &nbsp;&nbsp; <a type="button" class="btn btn-default" id="exportBtn">Export as .csv file</a>
			<table id="connectionTable" ng-table="tableParams" class="dataTable">
				<tr ng-repeat="user in $data">
					<td data-title="'User Name'">{{user.userName}}</td>
					<td data-title="'Connection Time'">{{user.connectionTimeStr}}</td>
					<td  data-title="'Disconnection Time'">{{user.disConnectionTimeStr}}</td>
					<td data-title="'Usage Time'">{{user.usageTime}}</td>
					<td data-title="'Machine Name'">{{user.machineName}}</td>
					<td data-title="'Pool/Farm Name'">{{user.poolName || user.farmName}}</td>
				</tr>
				<tr id="loading2" class="loadingrow">
						<td class="desktopName " ></td>
						<td class="desktopName " ></td>
						<td class="desktopName " ></td>
						<td class="desktopName " ></td>
						<td class="desktopName " ></td>
						<td class="desktopName " ></td>
				</tr>
			</table>
		</div>
		<script src="./js/d3.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="./js/usage.js"></script>
	</div>
</body>
</html>